import{_ as a,p as e,q as s,a1 as n}from"./framework-ea2a9e6e.js";const i={},d=n(`<h2 id="基础知识" tabindex="-1"><a class="header-anchor" href="#基础知识" aria-hidden="true">#</a> 基础知识</h2><p><strong>PM2</strong>是一个守护进程管理器，它将帮助您管理和保持应用程序在线，PM2 的入门非常简单，它以简单直观的 CLI 形式提供，可通过 NPM 进行安装</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pnpm add <span class="token operator">-</span>g pm2@latest
# or
yarn global add pm2
# or
npm install pm2@latest <span class="token operator">-</span>g
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后安装typescript支持包</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 install typescript
pm2 install ts<span class="token operator">-</span>node
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h3><p>执行命令创建配置文件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 init simple
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="运行" tabindex="-1"><a class="header-anchor" href="#运行" aria-hidden="true">#</a> 运行</h3><p>执行以下命令运行</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 start app<span class="token punctuation">.</span>ts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>停止项目</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 stop app<span class="token punctuation">.</span>ts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>文件更改时监视并重新启动应用程序</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 start app<span class="token punctuation">.</span>ts <span class="token operator">--</span>watch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行时指定应用名称</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 start app<span class="token punctuation">.</span>ts <span class="token operator">--</span>name <span class="token string">&quot;nodejs&quot;</span> <span class="token operator">--</span>watch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>根据名称关闭应用</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 stop houdunren
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令" aria-hidden="true">#</a> 常用命令</h2><h3 id="查看" tabindex="-1"><a class="header-anchor" href="#查看" aria-hidden="true">#</a> 查看</h3><p>显示进程状态</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 list
#或
pm2 ls
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看log</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除" tabindex="-1"><a class="header-anchor" href="#删除" aria-hidden="true">#</a> 删除</h3><p>删除id为0的进程</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 <span class="token keyword">delete</span> <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>从pm2列表中删除所有流程</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 <span class="token keyword">delete</span> all 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="更新" tabindex="-1"><a class="header-anchor" href="#更新" aria-hidden="true">#</a> 更新</h3><p>更新pm2</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>npm install pm2@latest <span class="token operator">-</span>g
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>更新内存中的pm2</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="监控" tabindex="-1"><a class="header-anchor" href="#监控" aria-hidden="true">#</a> 监控</h2><p>查看资源占用</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>pm2 monit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,38),r=[d];function l(c,t){return e(),s("div",null,r)}const v=a(i,[["render",l],["__file","pm2.html.vue"]]);export{v as default};
